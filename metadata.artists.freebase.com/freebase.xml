<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<scraper framework="1.1" date="2011-11-21">
	<CreateArtistSearchUrl dest="3">
		<RegExp input="$$1" output="&lt;url&gt;https://www.googleapis.com/freebase/v1/search?query=\1&amp;amp;type=/music/artist&lt;/url&gt;" dest="3">
			<expression/>
		</RegExp>
	</CreateArtistSearchUrl>
	<GetArtistSearchResults dest="8">
		<RegExp input="$$5" output="&lt;results&gt;\1&lt;/results&gt;" dest="8">
                        <RegExp input="$$1" output="&lt;entity&gt;&lt;title&gt;\2&lt;/title&gt;&lt;url cache=&quot;freebase-\1-artist&quot;&gt;https://www.googleapis.com/freebase/v1/mqlread?query={%22type%22:%22/music/artist%22,%22id%22:%22/m/\1%22,%22name%22:null,%22genre%22:[],%22album%22:[],%22active_start%22:null,%22active_end%22:null,%22/people/person/date_of_birth%22:null,%22/people/deceased_person/date_of_death%22:null,%22/music/group_member/instruments_played%22:[]}&lt;/url&gt;&lt;/entity&gt;" dest="5+">
                                <expression repeat="yes" fixchars="2">&quot;mid&quot;:&quot;/m/([^&quot;]*)&quot;,&quot;name&quot;:&quot;([^&quot;]*)&quot;</expression>
                        </RegExp>
			<expression noclean="1"/>
		</RegExp>
	</GetArtistSearchResults>
	<GetArtistDetails dest="3">
		<RegExp input="$$5" output="&lt;details&gt;\1&lt;/details&gt;" dest="3">
			<!-- Title -->
			<RegExp input="$$1" output="&lt;name&gt;\1&lt;/name&gt;" dest="5">
				<expression noclean="1">&quot;name&quot;: &quot;([^&quot;]*)</expression>
			</RegExp>
			<!-- Born -->
			<RegExp input="$$1" output="&lt;born&gt;\1&lt;/born&gt;" dest="5+">
				<expression noclean="1">date_of_birth&quot;: &quot;([0-9]{4})</expression>
			</RegExp>
			<!-- Formed -->
			<RegExp input="$$1" output="&lt;formed&gt;\1&lt;/formed&gt;" dest="5+">
				<expression noclean="1">active_start&quot;: &quot;([0-9]{4})</expression>
			</RegExp>
			<!-- Disbanded -->
			<RegExp input="$$1" output="&lt;disbanded&gt;\1&lt;/disbanded&gt;" dest="5+">
				<expression noclean="1">active_end&quot;: &quot;([^&quot;]*)</expression>
			</RegExp>
			<!-- Died -->
			<RegExp input="$$1" output="&lt;died&gt;\1&lt;/died&gt;" dest="5+">
				<expression noclean="1">date_of_death&quot;: &quot;([0-9]{4})</expression>
			</RegExp>
			<!-- Instruments -->
			<RegExp input="$$1" output="\1" dest="6">
				<expression trim="1">instruments_played&quot;: (.*?)\]</expression>
			</RegExp>
			<RegExp input="$$6" output="&lt;instruments&gt;\1&lt;/instruments&gt;" dest="5+">
				<expression repeat="yes" noclean="1">&quot;([^&quot;]*)&quot;</expression>
			</RegExp>
			<!-- Genres -->
			<RegExp input="$$1" output="\1" dest="6">
				<expression trim="1">&quot;genre&quot;: (.*?)\]</expression>
			</RegExp>
			<RegExp input="$$6" output="&lt;genre&gt;\1&lt;/genre&gt;" dest="5+">
				<expression repeat="yes">&quot;([^&quot;]*)&quot;</expression>
			</RegExp>
			<!-- Albums -->
			<RegExp input="$$1" output="\1" dest="6">
				<expression noclean="1" trim="1">&quot;album&quot;: (.*?)\]</expression>
			</RegExp>
			<RegExp input="$$6" output="&lt;album&gt;&lt;title&gt;\1&lt;/title&gt;&lt;/album&gt;" dest="5+">
				<expression noclean="1" repeat="yes">&quot;(.*?)&quot;,</expression>
			</RegExp>
			<!-- Freebase Thumb -->
			<RegExp input="$$1" output="&lt;thumb preview=&quot;https://www.googleapis.com/freebase/v1/image\1?maxheight=200&amp;amp;fallbackid=/m/none&quot;&gt;https://www.googleapis.com/freebase/v1/image\1?maxheight=4096&amp;amp;fallbackid=/m/none&lt;/thumb&gt;" dest="5+">
				<expression>&quot;id&quot;: &quot;([^&quot;]*)</expression>
			</RegExp>
			<!-- HTB Thumbs -->
			<RegExp input="$$2" conditional="htbthumbs" output="&lt;chain function=&quot;GetHTBThumbs&quot;&gt;\1&lt;/chain&gt;" dest="5+">
				<expression/>
			</RegExp>
			<!-- HTB Fanart -->
			<RegExp input="$$2" conditional="htbfanart" output="&lt;chain function=&quot;GetHTBFanart&quot;&gt;\1&lt;/chain&gt;" dest="5+">
				<expression/>
			</RegExp>
			<!-- Biography -->
			<RegExp input="$$1" output="&lt;url function=&quot;GetBiography&quot;&gt;https://www.googleapis.com/freebase/v1/text\1&lt;/url&gt;" dest="5+">
				<expression noclean="1">&quot;id&quot;: &quot;([^&quot;]*)</expression>
			</RegExp>
			<expression noclean="1" fixchars="1"/>
		</RegExp>
	</GetArtistDetails>
	<GetBiography dest="5">
		<RegExp input="$$2" output="&lt;details&gt;\1&lt;/details&gt;" dest="5+">
			<RegExp input="$$1" output="&lt;biography&gt;\1&lt;/biography&gt;" dest="2">
				<expression fixchars="1">&quot;result&quot;: &quot;(.*?)&quot;\n\}</expression>
			</RegExp>
			<expression noclean="1"/>
		</RegExp>
	</GetBiography>
</scraper>
